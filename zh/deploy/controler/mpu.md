# å®¹å™¨ PID æ˜ å°„ <Badge type="warning" text="å®éªŒæ€§" />

::: warning âš ï¸ è­¦å‘Š
è¯¥ç‰¹æ€§ä¸ºå®éªŒæ€§åŠŸèƒ½ï¼Œå¯èƒ½ä¼šé€ æˆä¸å¯é¢„çŸ¥çš„é—®é¢˜ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚
:::

## é—®é¢˜æè¿°

åœ¨å®¹å™¨å®ä¾‹å†…éƒ¨ä½¿ç”¨ `nvidia-smi` å‘½ä»¤æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°æ²¡æœ‰æ˜¾ç¤ºå ç”¨ GPU çš„è¿›ç¨‹çš„ pid çš„æƒ…å†µï¼Œè¿™æ˜¯å› ä¸ºå®¹å™¨å†…éƒ¨çš„è¿›ç¨‹å’Œå®¿ä¸»æœºçš„è¿›ç¨‹ä¸åœ¨åŒä¸€ä¸ªå‘½åç©ºé—´ä¸­ï¼Œå¯¼è‡´ `nvidia-smi` æ— æ³•è·å–åˆ°å®¹å™¨å†…éƒ¨çš„è¿›ç¨‹ä¿¡æ¯ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º

![nvidia-smi](/deploy/controler/mpu-1.webp)

### ç›¸å…³ Issue

- [NVIDIA/nvidia-docker#179](https://github.com/NVIDIA/nvidia-docker/issues/179)

## è§£å†³åŠæ³•

::: warning âš ï¸ è­¦å‘Š
éœ€è¦åœ¨æ¯ä¸€å°è¢«æ§ç«¯å®¿ä¸»æœºä¸Šå®‰è£…æ­¤å†…æ ¸æ¨¡å—

å†…æ ¸æ¨¡å—å®‰è£…æ”¯æŒçƒ­åŠ è½½, å³æ— éœ€é‡å¯å³å¯ç”Ÿæ•ˆ
:::

::: tip ğŸ’¡ æç¤º
è¯¥å†…æ ¸æ¨¡å—ç›®å‰åœ¨ä»¥ä¸‹ç¯å¢ƒæµ‹è¯•é€šè¿‡ï¼Œå…¶ä»–ç¯å¢ƒå¯èƒ½éœ€è¦è‡ªæµ‹è¯•

- Ubuntu 20.04, kernel 5.4.0-153 x64, docker 28.0.1, NVIDIA driver 535.171.04
- Ubuntu 20.04, kernel 5.4.0-208 x64, docker 28.0.1, NVIDIA driver 550.135
- Ubuntu 22.04, kernel 5.15.0-125 x64, docker 27.5.0, NVIDIA driver 550.135
- Ubuntu 22.04, kernel 5.15.0-134 x64, docker 28.0.1, NVIDIA driver 550.135
- Ubuntu 24.04, kernel 6.8.0-55 x64, docker 28.0.1, NVIDIA driver 550.135
- Ubuntu 24.04, kernel 6.8.0-55 x64, docker 28.0.1, NVIDIA driver 570.124.04
:::

::: info ğŸ“ è¯´æ˜
æ­¤å®ç°ç§»é™¤äº† `cr0` çš„æ³¨å…¥ï¼Œä»¥ç¡®ä¿å†…å­˜å®‰å…¨ï¼ŒåŒæ—¶ä½¿ç”¨ `ftrace` æ›¿ä»£ä¹‹å‰çš„ `kprobes` å®ç°ï¼Œä»¥ç¡®ä¿å†…æ ¸ç‰ˆæœ¬çš„å…¼å®¹æ€§ã€‚
:::

### ä¸‹è½½æºä»£ç 

```bash
git clone https://github.com/XShengTech/mpu.git
cd mpu
```

### ç¼–è¯‘å†…æ ¸æ¨¡å—

```bash
chmod +x run.sh
./run.sh install
```

### æ£€æŸ¥å®‰è£…

```bash
lsmod | grep mpu
```

æœ‰ç±»ä¼¼ä¸‹æ–¹çš„è¿”å›å³å¯ï¼š

```bash
mpu                    20480  0
```

### å¸è½½å†…æ ¸æ¨¡å—

::: tip ğŸ’¡ æç¤º
å¦‚æœéœ€è¦å¸è½½å†…æ ¸æ¨¡å—ï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤
:::

```bash
./run.sh uninstall
```